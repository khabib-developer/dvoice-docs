---
title: Аутентификация
description: Как аутентифицироваться в API DVoice TTS.
---

# Аутентификация

API DVoice TTS использует аутентификацию на основе токенов. Вы должны включить действительный API-токен во все запросы к [Одноразовому Endpoint'у](./4-single) и [Потоковому Endpoint'у](./5-stream).

## Получение токена

1. Посетите [voice.airi.uz](https://voice.airi.uz).
2. Войдите с учетными данными вашей учетной записи DVoice.
3. Перейдите в раздел API, чтобы сгенерировать или скопировать ваш API-токен.
4. Храните токен в безопасности.

<Callout type="warning">
  Не делитесь своим API-токеном публично. Сгенерируйте новый токен на
  [voice.airi.uz](https://voice.airi.uz), если он был скомпрометирован.
</Callout>

## Аутентификация запросов

### Одноразовый Endpoint (HTTP)

Включите токен в заголовок `token` вашего HTTP POST-запроса к `/tts`.

**Пример заголовка**:

```
token: <your-token>
```

### Потоковый Endpoint (WebSocket)

Включите токен в заголовок `token` при подключении к `wss://oyqiz.airi.uz/stream`.

**Пример подключения** (сырой WebSocket):

```
GET wss://oyqiz.airi.uz/tts/stream
token: <your-token>
```

При использовании SDK настройте токен при инициализации клиента ([Использование SDK](./3-sdks)).

## Ошибки аутентификации

| Статус/Код | Сообщение                          | Описание                        |
| ---------- | ---------------------------------- | ------------------------------- |
| 401        | Неверный токен                     | Токен недействителен или истек. |
| 403        | Требуется токен для аутентификации | Токен не предоставлен.          |

Для WebSocket-соединений недействительный или отсутствующий токен приводит к ответу `401 Unauthorized` или `403 Forbidden`, и соединение закрывается ([Обработка ошибок](./6-errors)).

## Примечания

- Токены включают идентификатор пользователя и имя токена, проверяемые на стороне сервера.
- Если вы столкнулись с `401 Invalid Token`, проверьте ваш токен на [voice.airi.uz](https://voice.airi.uz).
- См. [Обработка ошибок](./6-errors) для дополнительных деталей об ошибках.

<Callout type="info">
  Обратитесь в поддержку через [voice.airi.uz](https://voice.airi.uz) для
  проблем с генерацией токена.
</Callout>
